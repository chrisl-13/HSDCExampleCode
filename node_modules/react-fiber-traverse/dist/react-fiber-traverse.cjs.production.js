"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var React=require("react"),CSSWhat=require("css-what");function __generator(e,r){var t,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function l(a){return function(l){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=r.call(e,i)}catch(e){a=[6,e],n=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}function __values(e){var r="function"==typeof Symbol&&e[Symbol.iterator],t=0;return r?r.call(e):{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}}}function __read(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,a=t.call(e),i=[];try{for(;(void 0===r||r-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return i}function __spread(){for(var e=[],r=0;r<arguments.length;r++)e=e.concat(__read(arguments[r]));return e}function traverseGenerator(e,r){function t(){var r,t,n;return __generator(this,function(o){switch(o.label){case 0:return l?[3,2]:[4,e];case 1:void 0!==(r=o.sent())&&(a=void 0===(t=r.skipChild)?a:t,i=void 0===(n=r.skipSibling)?i:n),o.label=2;case 2:return[2]}})}function n(){return __generator(this,function(r){switch(r.label){case 0:return a||null===e.child?[3,2]:[5,__values(traverseGenerator(e.child,{order:m,skipSiblingForStartNode:!1,skipSelfForStartNode:!1}))];case 1:r.sent(),r.label=2;case 2:return[2]}})}function o(){return __generator(this,function(r){switch(r.label){case 0:return i||null===e.sibling?[3,2]:[5,__values(traverseGenerator(e.sibling,{order:m,skipSiblingForStartNode:!1,skipSelfForStartNode:!1}))];case 1:r.sent(),r.label=2;case 2:return[2]}})}var a,i,l,s,u,c,d,f,p,v,y=void 0===r?{}:r,h=y.order,m=void 0===h?["self","child","sibling"]:h,N=y.skipSiblingForStartNode,b=void 0===N||N,C=y.skipSelfForStartNode,_=void 0!==C&&C;return __generator(this,function(e){switch(e.label){case 0:a=!1,i=b,l=_,s={self:t,child:n,sibling:o},u=m.map(function(e){return s[e]}).filter(function(e){return void 0!==e}),e.label=1;case 1:e.trys.push([1,6,7,8]),c=__values(u),d=c.next(),e.label=2;case 2:return d.done?[3,5]:[5,__values((0,d.value)())];case 3:e.sent(),e.label=4;case 4:return d=c.next(),[3,2];case 5:return[3,8];case 6:return f=e.sent(),p={error:f},[3,8];case 7:try{d&&!d.done&&(v=c.return)&&v.call(c)}finally{if(p)throw p.error}return[7];case 8:return[2]}})}function traverse(e,r,t){var n,o,a=traverseGenerator(e,t);try{for(var i=__values(a),l=i.next();!l.done;l=i.next()){r.call(null,l.value)}}catch(e){n={error:e}}finally{try{l&&!l.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}}function isNodeHtmlLike(e){return"string"==typeof e.type||null===e.type}function isNodeNotHtmlLike(e){return!isNodeHtmlLike(e)}function isNodeFunctionComponent(e){return isNodeNotHtmlLike(e)&&null===e.stateNode}function isNodeComponentClass(e){return isNodeNotHtmlLike(e)&&e.stateNode instanceof React.Component}function isConstructorHtmlLike(e){return"string"==typeof e||null===e}function isConstructorComponentClass(e){return!isConstructorHtmlLike(e)&&(void 0!==e.prototype&&e.prototype instanceof React.Component)}function isConstructorFunctionComponent(e){return"function"==typeof e&&!isConstructorComponentClass(e)}function doesElementContainRootFiberNode(e){return e.hasOwnProperty("_reactRootContainer")&&e._reactRootContainer.hasOwnProperty("_internalRoot")}function getRootFiberNodeFromDOM(e){var r,t;if(void 0===e&&(e=document.body),doesElementContainRootFiberNode(e))return e._reactRootContainer._internalRoot.current;var n=null;try{for(var o=__values([].slice.call(e.children)),a=o.next();!a.done;a=o.next()){if(null!==(n=getRootFiberNodeFromDOM(a.value)))return n}}catch(e){r={error:e}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(r)throw r.error}}return n}var utils=Object.freeze({isNodeHtmlLike:isNodeHtmlLike,isNodeNotHtmlLike:isNodeNotHtmlLike,isNodeFunctionComponent:isNodeFunctionComponent,isNodeComponentClass:isNodeComponentClass,isConstructorHtmlLike:isConstructorHtmlLike,isConstructorComponentClass:isConstructorComponentClass,isConstructorFunctionComponent:isConstructorFunctionComponent,doesElementContainRootFiberNode:doesElementContainRootFiberNode,getRootFiberNodeFromDOM:getRootFiberNodeFromDOM});function findNodeByComponentName(e,r,t){var n,o;if(null===e)return null;var a=traverseGenerator(e,t);try{for(var i=__values(a),l=i.next();!l.done;l=i.next()){var s=l.value;if(isNodeNotHtmlLike(s)&&s.type.name===r)return s}}catch(e){n={error:e}}finally{try{l&&!l.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}return null}function findNodeByComponent(e,r,t){var n,o;if(null===e)return null;var a=traverseGenerator(e,t);try{for(var i=__values(a),l=i.next();!l.done;l=i.next()){var s=l.value;if(isNodeNotHtmlLike(s)&&s.type===r)return s}}catch(e){n={error:e}}finally{try{l&&!l.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}return null}function findNodeByComponentRef(e,r,t){var n,o;if(null===e)return null;var a=traverseGenerator(e,t);try{for(var i=__values(a),l=i.next();!l.done;l=i.next()){var s=l.value;if(isNodeNotHtmlLike(s)&&s.stateNode===r)return s}}catch(e){n={error:e}}finally{try{l&&!l.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}return null}function matchGenerator(e,r){var t,n,o,a,i,l,s,u,c,d,f,p,v,y,h,m,N,b,C,_,g,k,x,S,w,F,R;return __generator(this,function(G){switch(G.label){case 0:if(t="string"==typeof r?CSSWhat.parse(r,{lowerCaseTags:!1,lowerCaseAttributeNames:!1}):r,!(t.length>1))return[3,9];G.label=1;case 1:G.trys.push([1,6,7,8]),n=__values(t),o=n.next(),G.label=2;case 2:return o.done?[3,5]:[5,__values(matchGenerator(e,[o.value]))];case 3:G.sent(),G.label=4;case 4:return o=n.next(),[3,2];case 5:return[3,8];case 6:return a=G.sent(),g={error:a},[3,8];case 7:try{o&&!o.done&&(k=n.return)&&k.call(n)}finally{if(g)throw g.error}return[7];case 8:return[2];case 9:if(0===(i=t[0]).length)return[2];for(l=[e],s=0,u=void 0;s<i.length;){c=[];try{for(x=void 0,d=__values(l),f=d.next();!f.done;f=d.next())if(p=f.value,["tag"].includes((v=i[s]).type)){if(y={skipSelfForStartNode:!0,skipSiblingForStartNode:!0},h={},void 0===u||"descendant"===u.type?h={skipChild:!1,skipSibling:!1}:"child"===u.type?h={skipChild:!0}:"sibling"===u.type&&(h={skipChild:!0,skipSibling:!0},y.skipSiblingForStartNode=!1),m=traverseGenerator(p,y),"tag"==v.type)for(C=void 0;!(w=m.next(h),C=w.value,w).done;)isNodeNotHtmlLike(C)&&C.type.name===v.name&&c.push(C)}else["descendant","child"].includes(v.type)?(u=v,c.push.apply(c,__spread(l))):u=void 0}catch(e){x={error:e}}finally{try{f&&!f.done&&(S=d.return)&&S.call(d)}finally{if(x)throw x.error}}l=c,s+=1}G.label=10;case 10:G.trys.push([10,15,16,17]),N=__values(l),b=N.next(),G.label=11;case 11:return b.done?[3,14]:[4,C=b.value];case 12:G.sent(),G.label=13;case 13:return b=N.next(),[3,11];case 14:return[3,17];case 15:return _=G.sent(),F={error:_},[3,17];case 16:try{b&&!b.done&&(R=N.return)&&R.call(N)}finally{if(F)throw F.error}return[7];case 17:return[2]}})}function matchAll(e,r){return __spread(matchGenerator(e,r))}function matchFirst(e,r){var t=matchGenerator(e,r),n=t.next();return t.throw&&t.throw(new Error("Cleanup")),n.done?null:n.value}exports.Utils=utils,exports.findNodeByComponent=findNodeByComponent,exports.findNodeByComponentName=findNodeByComponentName,exports.findNodeByComponentRef=findNodeByComponentRef,exports.matchAll=matchAll,exports.matchFirst=matchFirst,exports.matchGenerator=matchGenerator,exports.traverse=traverse,exports.traverseGenerator=traverseGenerator;
//# sourceMappingURL=react-fiber-traverse.cjs.production.js.map
